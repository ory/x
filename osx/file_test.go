// Copyright Â© 2023 Ory Corp
// SPDX-License-Identifier: Apache-2.0

package osx

import (
	"encoding/base64"
	"fmt"
	"net/http"
	"net/http/httptest"
	"testing"

	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"

	"github.com/ory/x/httpx"
)

var handler http.HandlerFunc = func(w http.ResponseWriter, r *http.Request) {
	_, _ = w.Write([]byte("hello world"))
}

func TestReadFileFromAllSources(t *testing.T) {
	ts := httptest.NewServer(handler)
	defer ts.Close()

	sslTS := httptest.NewTLSServer(handler)
	defer sslTS.Close()

	for k, tc := range []struct {
		opts                []Option
		src                 string
		expectedErr         string
		expectedErrContains string
		expectedBody        string
	}{
		{src: "base64://aGVsbG8gd29ybGQ", expectedBody: "hello world"},
		{src: "base64://aGVsbG8gd29ybGQ=", expectedBody: "hello world", opts: []Option{WithoutResilientBase64Encoding(), WithBase64Encoding(base64.URLEncoding)}},
		{src: "base64://aGVsbG8gd29ybGQ=", expectedErr: "unable to base64 decode the location: illegal base64 data at input byte 15", opts: []Option{WithoutResilientBase64Encoding()}},
		{src: "base64://aGVsbG8gd29ybGQ=", expectedBody: "hello world"},
		{src: "base64://aGVsbG8gd29ybGQ", expectedBody: "hello world"},
		{src: "base64://aGVsbG8gd29ybGQ", expectedErr: "base64 loader disabled", opts: []Option{WithDisabledBase64Loader()}},
		{src: "base64://notbase64", expectedErr: "unable to base64 decode the location: illegal base64 data at input byte 8"},

		{src: "file://stub/text.txt", expectedBody: "hello world"},
		{src: "stub/text.txt", expectedBody: "hello world"},
		{src: "file://stub/text.txt", expectedErr: "file loader disabled", opts: []Option{WithDisabledFileLoader()}},
		{src: "stub/text.txt", expectedErr: "file loader disabled", opts: []Option{WithDisabledFileLoader()}},

		{src: ts.URL, expectedBody: "hello world"},
		{src: sslTS.URL, expectedErrContains: "x509:"},
		{src: sslTS.URL, expectedBody: "hello world", opts: []Option{WithHTTPClient(httpx.NewResilientClient(httpx.ResilientClientWithClient(sslTS.Client())))}},
		{src: sslTS.URL, expectedErr: "http(s) loader disabled", opts: []Option{WithDisabledHTTPLoader()}},

		{src: "file://stub/text.txt", expectedErr: "file loader disabled", opts: []Option{WithDisabledFileLoader()}},

		{src: "lmao://stub/text.txt", expectedErr: "unsupported source `lmao`"},
		{src: "base64://PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgeG1sbnM6dj0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiIHhtbG5zOm89InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSI+CjxoZWFkPgo8dGl0bGU+IFJlY292ZXIgYWNjZXNzIHRvIHlvdXIgT3J5IGFjY291bnQgPC90aXRsZT4KPCEtLVtpZiAhbXNvXT48IS0tPgo8bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPWVkZ2UiPgo8IS0tPCFbZW5kaWZdLS0+CjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04Ij4KPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KI291dGxvb2sgYXtwYWRkaW5nOjA7fWJvZHl7bWFyZ2luOjA7cGFkZGluZzowOy13ZWJraXQtdGV4dC1zaXplLWFkanVzdDoxMDAlOy1tcy10ZXh0LXNpemUtYWRqdXN0OjEwMCU7fXRhYmxlLHRke2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTttc28tdGFibGUtbHNwYWNlOjBwdDttc28tdGFibGUtcnNwYWNlOjBwdDt9aW1ne2JvcmRlcjowO2hlaWdodDphdXRvO2xpbmUtaGVpZ2h0OjEwMCU7b3V0bGluZTpub25lO3RleHQtZGVjb3JhdGlvbjpub25lOy1tcy1pbnRlcnBvbGF0aW9uLW1vZGU6YmljdWJpYzt9cHtkaXNwbGF5OmJsb2NrO21hcmdpbjowO30KPC9zdHlsZT4KPCEtLVtpZiBtc29dPiA8bm9zY3JpcHQ+PHhtbD48bzpPZmZpY2VEb2N1bWVudFNldHRpbmdzPjxvOkFsbG93UE5HLz48bzpQaXhlbHNQZXJJbmNoPjk2PC9vOlBpeGVsc1BlckluY2g+PC9vOk9mZmljZURvY3VtZW50U2V0dGluZ3M+PC94bWw+PC9ub3NjcmlwdD4KPCFbZW5kaWZdLS0+CjwhLS1baWYgbHRlIG1zbyAxMV0+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Ci5vZ2Z7d2lkdGg6MTAwJSAhaW1wb3J0YW50O30KPC9zdHlsZT4KPCFbZW5kaWZdLS0+CjwhLS1baWYgIW1zb10+PCEtLT4KPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PUludGVyOjQwMCw3MDAiIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiPgo8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9T3h5Z2VuOjcwMCw0MDAiIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoKPC9zdHlsZT4KPCEtLTwhW2VuZGlmXS0tPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6NTk5cHgpey5wYzEwMHt3aWR0aDoxMDAlIWltcG9ydGFudDttYXgtd2lkdGg6MTAwJTt9LnhjNjAwe3dpZHRoOjYwMHB4IWltcG9ydGFudDttYXgtd2lkdGg6NjAwcHg7fS54YzQ3Mnt3aWR0aDo0NzJweCFpbXBvcnRhbnQ7bWF4LXdpZHRoOjQ3MnB4O319Cjwvc3R5bGU+CjxzdHlsZSBtZWRpYT0ic2NyZWVuIGFuZCAobWluLXdpZHRoOjU5OXB4KSI+Lm1vei10ZXh0LWh0bWwgLnBjMTAwe3dpZHRoOjEwMCUhaW1wb3J0YW50O21heC13aWR0aDoxMDAlO30ubW96LXRleHQtaHRtbCAueGM2MDB7d2lkdGg6NjAwcHghaW1wb3J0YW50O21heC13aWR0aDo2MDBweDt9Lm1vei10ZXh0LWh0bWwgLnhjNDcye3dpZHRoOjQ3MnB4IWltcG9ydGFudDttYXgtd2lkdGg6NDcycHg7fQo8L3N0eWxlPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NTk5cHgpe3RhYmxlLmZ3bXt3aWR0aDoxMDAlIWltcG9ydGFudDt9dGQuZndte3dpZHRoOmF1dG8haW1wb3J0YW50O319Cjwvc3R5bGU+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CnUrLmVtYWlsaWZ5IGEsI01lc3NhZ2VWaWV3Qm9keSBhLGFbeC1hcHBsZS1kYXRhLWRldGVjdG9yc117Y29sb3I6aW5oZXJpdCFpbXBvcnRhbnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmUhaW1wb3J0YW50O2ZvbnQtc2l6ZTppbmhlcml0IWltcG9ydGFudDtmb250LWZhbWlseTppbmhlcml0IWltcG9ydGFudDtmb250LXdlaWdodDppbmhlcml0IWltcG9ydGFudDtsaW5lLWhlaWdodDppbmhlcml0IWltcG9ydGFudDt9c3Bhbi5Nc29IeXBlcmxpbmt7bXNvLXN0eWxlLXByaW9yaXR5Ojk5O2NvbG9yOmluaGVyaXQ7fXNwYW4uTXNvSHlwZXJsaW5rRm9sbG93ZWR7bXNvLXN0eWxlLXByaW9yaXR5Ojk5O2NvbG9yOmluaGVyaXQ7fXUrLmVtYWlsaWZ5IC5nbGlzdHttYXJnaW4tbGVmdDowIWltcG9ydGFudDt9CkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDo1OTlweCl7LmVtYWlsaWZ5e2hlaWdodDoxMDAlIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7cGFkZGluZzowIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudDt9dSsuZW1haWxpZnkgLmdsaXN0e21hcmdpbi1sZWZ0OjI1cHghaW1wb3J0YW50O310ZC54e3BhZGRpbmctbGVmdDowIWltcG9ydGFudDtwYWRkaW5nLXJpZ2h0OjAhaW1wb3J0YW50O31ici5zYntkaXNwbGF5Om5vbmUhaW1wb3J0YW50O30uaGQtMXtkaXNwbGF5OmJsb2NrIWltcG9ydGFudDtoZWlnaHQ6YXV0byFpbXBvcnRhbnQ7b3ZlcmZsb3c6dmlzaWJsZSFpbXBvcnRhbnQ7fS5odC0xe2Rpc3BsYXk6dGFibGUhaW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudDtvdmVyZmxvdzp2aXNpYmxlIWltcG9ydGFudDt9LmhyLTF7ZGlzcGxheTp0YWJsZS1yb3chaW1wb3J0YW50O2hlaWdodDphdXRvIWltcG9ydGFudDtvdmVyZmxvdzp2aXNpYmxlIWltcG9ydGFudDt9LmhjLTF7ZGlzcGxheTp0YWJsZS1jZWxsIWltcG9ydGFudDtoZWlnaHQ6YXV0byFpbXBvcnRhbnQ7b3ZlcmZsb3c6dmlzaWJsZSFpbXBvcnRhbnQ7fWRpdi5yLnByLTE2PnRhYmxlPnRib2R5PnRyPnRke3BhZGRpbmctcmlnaHQ6MTZweCFpbXBvcnRhbnR9ZGl2LnIucGwtMTY+dGFibGU+dGJvZHk+dHI+dGR7cGFkZGluZy1sZWZ0OjE2cHghaW1wb3J0YW50fXRkLmkudy02MCBpbWd7d2lkdGg6NjBweCFpbXBvcnRhbnR9dGQuaS5oLTMwIGltZ3toZWlnaHQ6MzBweCFpbXBvcnRhbnR9ZGl2LnIucHQtMD50YWJsZT50Ym9keT50cj50ZHtwYWRkaW5nLXRvcDowcHghaW1wb3J0YW50fWRpdi5yLnByLTA+dGFibGU+dGJvZHk+dHI+dGR7cGFkZGluZy1yaWdodDowcHghaW1wb3J0YW50fWRpdi5yLnBiLTA+dGFibGU+dGJvZHk+dHI+dGR7cGFkZGluZy1ib3R0b206MHB4IWltcG9ydGFudH1kaXYuci5wbC0wPnRhYmxlPnRib2R5PnRyPnRke3BhZGRpbmctbGVmdDowcHghaW1wb3J0YW50fX0KPC9zdHlsZT4KPG1ldGEgbmFtZT0iY29sb3Itc2NoZW1lIiBjb250ZW50PSJsaWdodCBkYXJrIj4KPG1ldGEgbmFtZT0ic3VwcG9ydGVkLWNvbG9yLXNjaGVtZXMiIGNvbnRlbnQ9ImxpZ2h0IGRhcmsiPgo8IS0tW2lmIGd0ZSBtc28gOV0+CjxzdHlsZT5saXt0ZXh0LWluZGVudDotMWVtO30KPC9zdHlsZT4KPCFbZW5kaWZdLS0+CjwvaGVhZD4KPGJvZHkgbGluaz0iI0REMDAwMCIgdmxpbms9IiNERDAwMDAiIGNsYXNzPSJlbWFpbGlmeSIgc3R5bGU9IndvcmQtc3BhY2luZzpub3JtYWw7YmFja2dyb3VuZC1jb2xvcjojZjJmMmYyOyI+PGRpdiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZjJmMmYyOyI+CjwhLS1baWYgbXNvIHwgSUVdPgo8dGFibGUgYWxpZ249ImNlbnRlciIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIGNsYXNzPSJyLW91dGxvb2sgLW91dGxvb2sgcHItMTYtb3V0bG9vayBwbC0xNi1vdXRsb29rIC1vdXRsb29rIiBzdHlsZT0id2lkdGg6NjAwcHg7IiB3aWR0aD0iNjAwIiBiZ2NvbG9yPSIjZmZmZmZlIj48dHI+PHRkIHN0eWxlPSJsaW5lLWhlaWdodDowO2ZvbnQtc2l6ZTowO21zby1saW5lLWhlaWdodC1ydWxlOmV4YWN0bHk7Ij4KPCFbZW5kaWZdLS0+PGRpdiBjbGFzcz0iciBwci0xNiBwbC0xNiAiIHN0eWxlPSJiYWNrZ3JvdW5kOiNmZmZmZmU7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZlO21hcmdpbjowcHggYXV0bztib3JkZXItcmFkaXVzOjA7bWF4LXdpZHRoOjYwMHB4OyI+Cjx0YWJsZSBhbGlnbj0iY2VudGVyIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgc3R5bGU9ImJhY2tncm91bmQ6I2ZmZmZmZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmU7d2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjA7Ij48dGJvZHk+PHRyPjx0ZCBzdHlsZT0iYm9yZGVyOm5vbmU7ZGlyZWN0aW9uOmx0cjtmb250LXNpemU6MDtwYWRkaW5nOjE2cHggNjRweCAxNnB4IDY0cHg7dGV4dC1hbGlnbjpsZWZ0OyI+CjwhLS1baWYgbXNvIHwgSUVdPgo8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPjx0cj48dGQgY2xhc3M9IiIgc3R5bGU9IndpZHRoOjQ3MnB4OyI+CjwhW2VuZGlmXS0tPjxkaXYgY2xhc3M9InBjMTAwIG9nZiIgc3R5bGU9ImZvbnQtc2l6ZTowO2xpbmUtaGVpZ2h0OjA7dGV4dC1hbGlnbjpsZWZ0O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEwMCU7ZGlyZWN0aW9uOmx0cjsiPgo8IS0tW2lmIG1zbyB8IElFXT4KPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIj48dHI+PHRkIHN0eWxlPSJ2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6NDcycHg7Ij4KPCFbZW5kaWZdLS0+PGRpdiBjbGFzcz0icGMxMDAgb2dmIGMgIiBzdHlsZT0iZm9udC1zaXplOjA7dGV4dC1hbGlnbjpsZWZ0O2RpcmVjdGlvbjpsdHI7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjEwMCU7Ij4KPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXI6bm9uZTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7IiB3aWR0aD0iMTAwJSI+PHRib2R5Pjx0cj48dGQgYWxpZ249ImxlZnQiIGNsYXNzPSJpIHctNjAgaC0zMCBmdy0xICIgc3R5bGU9ImZvbnQtc2l6ZTowO3BhZGRpbmc6MDtwYWRkaW5nLWJvdHRvbTowO3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPgo8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLXNwYWNpbmc6MDsiIGNsYXNzPSJmd20iPjx0Ym9keT48dHI+PHRkIHN0eWxlPSJ3aWR0aDo4MHB4OyIgY2xhc3M9ImZ3bSI+IDxhIGhyZWY9Imh0dHBzOi8vd3d3Lm9yeS5zaC8iIHRhcmdldD0iX2JsYW5rIj4gPGltZyBhbHQ9Ik9yeSBMb2dvIiBoZWlnaHQ9ImF1dG8iIHNyYz0iaHR0cHM6Ly93d3cub3J5LnNoL21haWwvbWlzYy9sb2dvLnBuZyIgc3R5bGU9ImJvcmRlcjowO2JvcmRlci1yYWRpdXM6MDtkaXNwbGF5OmJsb2NrO291dGxpbmU6bm9uZTt0ZXh0LWRlY29yYXRpb246bm9uZTtoZWlnaHQ6YXV0bzt3aWR0aDoxMDAlO2ZvbnQtc2l6ZToxM3B4OyIgd2lkdGg9IjgwIj48L2E+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+PC9kaXY+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjwvdHI+PC90YWJsZT4KPCFbZW5kaWZdLS0+PC9kaXY+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjwvdHI+PC90YWJsZT4KPCFbZW5kaWZdLS0+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+PC9kaXY+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjwvdHI+PC90YWJsZT4KPHRhYmxlIGFsaWduPSJjZW50ZXIiIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBjbGFzcz0ici1vdXRsb29rIC1vdXRsb29rIHB0LTAtb3V0bG9vayBwci0wLW91dGxvb2sgcGItMC1vdXRsb29rIHBsLTAtb3V0bG9vayAtb3V0bG9vayIgc3R5bGU9IndpZHRoOjYwMHB4OyIgd2lkdGg9IjYwMCIgYmdjb2xvcj0idHJhbnNwYXJlbnQiPjx0cj48dGQgc3R5bGU9ImxpbmUtaGVpZ2h0OjA7Zm9udC1zaXplOjA7bXNvLWxpbmUtaGVpZ2h0LXJ1bGU6ZXhhY3RseTsiPgo8IVtlbmRpZl0tLT48ZGl2IGNsYXNzPSJyIHB0LTAgcHItMCBwYi0wIHBsLTAgIiBzdHlsZT0iYmFja2dyb3VuZDp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O21hcmdpbjowcHggYXV0bztib3JkZXItcmFkaXVzOjA7bWF4LXdpZHRoOjYwMHB4OyI+Cjx0YWJsZSBhbGlnbj0iY2VudGVyIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgc3R5bGU9ImJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt3aWR0aDoxMDAlO2JvcmRlci1yYWRpdXM6MDsiPjx0Ym9keT48dHI+PHRkIHN0eWxlPSJib3JkZXI6bm9uZTtkaXJlY3Rpb246bHRyO2ZvbnQtc2l6ZTowO3BhZGRpbmc6MDt0ZXh0LWFsaWduOmxlZnQ7Ij4KPCEtLVtpZiBtc28gfCBJRV0+Cjx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCI+PHRyPjx0ZCBjbGFzcz0iYy1vdXRsb29rIC1vdXRsb29rIC1vdXRsb29rIiBzdHlsZT0idmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjYwMHB4OyI+CjwhW2VuZGlmXS0tPjxkaXYgY2xhc3M9InhjNjAwIG9nZiBjICIgc3R5bGU9ImZvbnQtc2l6ZTowO3RleHQtYWxpZ246bGVmdDtkaXJlY3Rpb246bHRyO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDoxMDAlOyI+Cjx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7dmVydGljYWwtYWxpZ246bWlkZGxlOyIgd2lkdGg9IjEwMCUiPjx0Ym9keT48dHI+PHRkIGFsaWduPSJjZW50ZXIiIGNsYXNzPSJpIGZ3LTEgIiBzdHlsZT0iZm9udC1zaXplOjA7cGFkZGluZzowO3BhZGRpbmctYm90dG9tOjA7d29yZC1icmVhazpicmVhay13b3JkOyI+Cjx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgc3R5bGU9ImJvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowOyIgY2xhc3M9ImZ3bSI+PHRib2R5Pjx0cj48dGQgc3R5bGU9IndpZHRoOjYwMHB4OyIgY2xhc3M9ImZ3bSI+IDxhIGhyZWY9Int7IC5SZWNvdmVyeVVSTCB9fSIgdGFyZ2V0PSJfYmxhbmsiPiA8aW1nIGFsdD0iT3J5IE5ldHdvcmsgYWNjb3VudCByZWNvdmVyeSIgaGVpZ2h0PSJhdXRvIiBzcmM9Imh0dHBzOi8vd3d3Lm9yeS5zaC9tYWlsL2Jhbm5lci9iYW5uZXItMS5qcGciIHN0eWxlPSJib3JkZXI6MDtib3JkZXItcmFkaXVzOjA7ZGlzcGxheTpibG9jaztvdXRsaW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7aGVpZ2h0OmF1dG87d2lkdGg6MTAwJTtmb250LXNpemU6MTNweDsiIHdpZHRoPSI2MDAiPjwvYT4KPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4KPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L2Rpdj4KPCEtLVtpZiBtc28gfCBJRV0+CjwvdGQ+PC90cj48L3RhYmxlPgo8IVtlbmRpZl0tLT4KPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L2Rpdj4KPCEtLVtpZiBtc28gfCBJRV0+CjwvdGQ+PC90cj48L3RhYmxlPgo8dGFibGUgYWxpZ249ImNlbnRlciIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIGNsYXNzPSJyLW91dGxvb2sgLW91dGxvb2sgcHItMTYtb3V0bG9vayBwbC0xNi1vdXRsb29rIC1vdXRsb29rIiBzdHlsZT0id2lkdGg6NjAwcHg7IiB3aWR0aD0iNjAwIiBiZ2NvbG9yPSIjZmNmY2ZjIj48dHI+PHRkIHN0eWxlPSJsaW5lLWhlaWdodDowO2ZvbnQtc2l6ZTowO21zby1saW5lLWhlaWdodC1ydWxlOmV4YWN0bHk7Ij4KPCFbZW5kaWZdLS0+PGRpdiBjbGFzcz0iciBwci0xNiBwbC0xNiAiIHN0eWxlPSJiYWNrZ3JvdW5kOiNmY2ZjZmM7YmFja2dyb3VuZC1jb2xvcjojZmNmY2ZjO21hcmdpbjowcHggYXV0bztib3JkZXItcmFkaXVzOjA7bWF4LXdpZHRoOjYwMHB4OyI+Cjx0YWJsZSBhbGlnbj0iY2VudGVyIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgc3R5bGU9ImJhY2tncm91bmQ6I2ZjZmNmYztiYWNrZ3JvdW5kLWNvbG9yOiNmY2ZjZmM7d2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjA7Ij48dGJvZHk+PHRyPjx0ZCBzdHlsZT0iYm9yZGVyOm5vbmU7ZGlyZWN0aW9uOmx0cjtmb250LXNpemU6MDtwYWRkaW5nOjQ4cHggNjRweCA0OHB4IDY0cHg7dGV4dC1hbGlnbjpsZWZ0OyI+CjwhLS1baWYgbXNvIHwgSUVdPgo8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPjx0cj48dGQgY2xhc3M9ImMtb3V0bG9vayAtb3V0bG9vayAtb3V0bG9vayIgc3R5bGU9InZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDo0NzJweDsiPgo8IVtlbmRpZl0tLT48ZGl2IGNsYXNzPSJ4YzQ3MiBvZ2YgYyAiIHN0eWxlPSJmb250LXNpemU6MDt0ZXh0LWFsaWduOmxlZnQ7ZGlyZWN0aW9uOmx0cjtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6MTAwJTsiPgo8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjpub25lO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTsiIHdpZHRoPSIxMDAlIj48dGJvZHk+PHRyPjx0ZCBhbGlnbj0ibGVmdCIgY2xhc3M9InggbSIgc3R5bGU9ImZvbnQtc2l6ZTowO3BhZGRpbmc6MDtwYWRkaW5nLWJvdHRvbToxNnB4O3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPjxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5OkludGVyLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjM3cHg7bGluZS1oZWlnaHQ6NTJweDt0ZXh0LWFsaWduOmxlZnQ7Y29sb3I6IzAwMDAwMDsiPjxwIHN0eWxlPSJNYXJnaW46MDt0ZXh0LWFsaWduOmxlZnQ7Ij48c3BhbiBzdHlsZT0ibXNvLWxpbmUtaGVpZ2h0LXJ1bGU6ZXhhY3RseTtmb250LXNpemU6MzdweDtmb250LWZhbWlseTpJbnRlcixBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjojMTcxNzE3O2xpbmUtaGVpZ2h0OjUycHg7Ij5SZWNvdmVyIGFjY2VzcyB0byB5b3VyIE9yeSBhY2NvdW50PC9zcGFuPjwvcD48L2Rpdj4KPC90ZD48L3RyPjx0cj48dGQgYWxpZ249ImxlZnQiIGNsYXNzPSJ4IG0iIHN0eWxlPSJmb250LXNpemU6MDtwYWRkaW5nOjA7cGFkZGluZy1ib3R0b206MTZweDt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7Ij48ZGl2IHN0eWxlPSJmb250LWZhbWlseTpPeHlnZW4sQXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6MTZweDtsaW5lLWhlaWdodDoyOHB4O3RleHQtYWxpZ246bGVmdDtjb2xvcjojMDAwMDAwOyI+PHAgc3R5bGU9Ik1hcmdpbjowO3RleHQtYWxpZ246bGVmdDsiPjxzcGFuIHN0eWxlPSJtc28tbGluZS1oZWlnaHQtcnVsZTpleGFjdGx5O2ZvbnQtc2l6ZToxNnB4O2ZvbnQtZmFtaWx5Ok94eWdlbixBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojMTcxNzE3O2xpbmUtaGVpZ2h0OjI4cHg7Ij5IZWxsbyA8L3NwYW4+PHNwYW4gc3R5bGU9Im1zby1saW5lLWhlaWdodC1ydWxlOmV4YWN0bHk7Zm9udC1zaXplOjE2cHg7Zm9udC1mYW1pbHk6T3h5Z2VuLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMzZDUzZjU7bGluZS1oZWlnaHQ6MjhweDsiPnt7IC5UbyB9fSw8L3NwYW4+PC9wPjwvZGl2Pgo8L3RkPjwvdHI+PHRyPjx0ZCBhbGlnbj0ibGVmdCIgY2xhc3M9InggbSIgc3R5bGU9ImZvbnQtc2l6ZTowO3BhZGRpbmc6MDtwYWRkaW5nLWJvdHRvbToxNnB4O3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPjxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5Ok94eWdlbixBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxNnB4O2xpbmUtaGVpZ2h0OjI4cHg7dGV4dC1hbGlnbjpsZWZ0O2NvbG9yOiMwMDAwMDA7Ij48cCBzdHlsZT0iTWFyZ2luOjA7dGV4dC1hbGlnbjpsZWZ0OyI+PHNwYW4gc3R5bGU9Im1zby1saW5lLWhlaWdodC1ydWxlOmV4YWN0bHk7Zm9udC1zaXplOjE2cHg7Zm9udC1mYW1pbHk6T3h5Z2VuLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiMxNzE3MTc7bGluZS1oZWlnaHQ6MjhweDsiPnBsZWFzZSByZWNvdmVyIGFjY2VzcyB0byB5b3VyIGFjY291bnQgYnkgY2xpY2tpbmcgdGhlIGZvbGxvd2luZyBsaW5rOiA8L3NwYW4+PC9wPjwvZGl2Pgo8L3RkPjwvdHI+PHRyPjx0ZCBhbGlnbj0ibGVmdCIgY2xhc3M9InggbSIgc3R5bGU9ImZvbnQtc2l6ZTowO3BhZGRpbmc6MDtwYWRkaW5nLWJvdHRvbToxNnB4O3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPjxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5Ok94eWdlbixBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxNnB4O2xpbmUtaGVpZ2h0OjI4cHg7dGV4dC1hbGlnbjpsZWZ0O2NvbG9yOiMwMDAwMDA7Ij48cCBzdHlsZT0iTWFyZ2luOjA7dGV4dC1hbGlnbjpsZWZ0OyI+PHNwYW4gc3R5bGU9Im1zby1saW5lLWhlaWdodC1ydWxlOmV4YWN0bHk7Zm9udC1zaXplOjE2cHg7Zm9udC1mYW1pbHk6T3h5Z2VuLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMzZDUzZjU7bGluZS1oZWlnaHQ6MjhweDsiPjxhIGhyZWY9Int7IC5SZWNvdmVyeVVSTCB9fSIgc3R5bGU9ImNvbG9yOiMzZDUzZjU7dGV4dC1kZWNvcmF0aW9uOmluaXRpYWw7IiB0YXJnZXQ9Il9ibGFuayI+e3sgLlJlY292ZXJ5VVJMIH19PC9hPjwvc3Bhbj48L3A+PC9kaXY+CjwvdGQ+PC90cj48dHI+PHRkIGFsaWduPSJsZWZ0IiBjbGFzcz0ieCBtIiBzdHlsZT0iZm9udC1zaXplOjA7cGFkZGluZzowO3BhZGRpbmctYm90dG9tOjE2cHg7d29yZC1icmVhazpicmVhay13b3JkOyI+PGRpdiBzdHlsZT0iZm9udC1mYW1pbHk6T3h5Z2VuLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjE2cHg7bGluZS1oZWlnaHQ6MjhweDt0ZXh0LWFsaWduOmxlZnQ7Y29sb3I6IzAwMDAwMDsiPjxwIHN0eWxlPSJNYXJnaW46MDt0ZXh0LWFsaWduOmxlZnQ7Ij48c3BhbiBzdHlsZT0ibXNvLWxpbmUtaGVpZ2h0LXJ1bGU6ZXhhY3RseTtmb250LXNpemU6MTZweDtmb250LWZhbWlseTpPeHlnZW4sQXJpYWwsc2Fucy1zZXJpZjtmb250LXdlaWdodDo0MDA7Y29sb3I6IzE3MTcxNztsaW5lLWhlaWdodDoyOHB4OyI+S2luZCBSZWdhcmRzLCB0aGUgT3J5IFRlYW08L3NwYW4+PC9wPjwvZGl2Pgo8L3RkPjwvdHI+PHRyPjx0ZCBjbGFzcz0icyBtIiBzdHlsZT0iZm9udC1zaXplOjA7cGFkZGluZzowO3BhZGRpbmctYm90dG9tOjE2cHg7d29yZC1icmVhazpicmVhay13b3JkOyI+PGRpdiBzdHlsZT0iaGVpZ2h0OjRweDtsaW5lLWhlaWdodDo0cHg7Ij4mIzgyMDI7PC9kaXY+CjwvdGQ+PC90cj48dHI+PHRkIGFsaWduPSJsZWZ0IiB2ZXJ0aWNhbC1hbGlnbj0ibWlkZGxlIiBjbGFzcz0iYiBtIiBzdHlsZT0iZm9udC1zaXplOjA7cGFkZGluZzowO3BhZGRpbmctYm90dG9tOjE2cHg7d29yZC1icmVhazpicmVhay13b3JkOyI+Cjx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgc3R5bGU9ImJvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZTt3aWR0aDoxNjZweDtsaW5lLWhlaWdodDoxMDAlOyI+PHRib2R5Pjx0cj48dGQgYWxpZ249ImNlbnRlciIgYmdjb2xvcj0iIzNkNTNmNSIgc3R5bGU9ImJvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MDtjdXJzb3I6YXV0bzttc28tcGFkZGluZy1hbHQ6MTJweCAwcHggMTJweCAwcHg7YmFja2dyb3VuZDojM2Q1M2Y1OyIgdmFsaWduPSJtaWRkbGUiPiA8YSBocmVmPSJ7eyAuUmVjb3ZlcnlVUkwgfX0iIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxNjZweDtiYWNrZ3JvdW5kOiMzZDUzZjU7Y29sb3I6I2ZmZmZmZjtmb250LWZhbWlseTpJbnRlcixBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxM3B4O2ZvbnQtd2VpZ2h0Om5vcm1hbDtsaW5lLWhlaWdodDoxMDAlO21hcmdpbjowO3RleHQtZGVjb3JhdGlvbjpub25lO3RleHQtdHJhbnNmb3JtOm5vbmU7cGFkZGluZzoxMnB4IDBweCAxMnB4IDBweDttc28tcGFkZGluZy1hbHQ6MDtib3JkZXItcmFkaXVzOjA7IiB0YXJnZXQ9Il9ibGFuayI+IDxzcGFuIHN0eWxlPSJtc28tbGluZS1oZWlnaHQtcnVsZTpleGFjdGx5O2ZvbnQtc2l6ZToxNHB4O2ZvbnQtZmFtaWx5OkludGVyLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiNmZmZmZmY7bGluZS1oZWlnaHQ6MjBweDsiPlJlY292ZXIgQWNjb3VudDwvc3Bhbj48L2E+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwvdGQ+PC90cj48dHI+PHRkIGNsYXNzPSJzIG0iIHN0eWxlPSJmb250LXNpemU6MDtwYWRkaW5nOjA7cGFkZGluZy1ib3R0b206MTZweDt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7Ij48ZGl2IHN0eWxlPSJoZWlnaHQ6NHB4O2xpbmUtaGVpZ2h0OjRweDsiPiYjODIwMjs8L2Rpdj4KPC90ZD48L3RyPjx0cj48dGQgYWxpZ249ImxlZnQiIGNsYXNzPSJpIGZ3LTEgIiBzdHlsZT0iZm9udC1zaXplOjA7cGFkZGluZzowO3BhZGRpbmctYm90dG9tOjA7d29yZC1icmVhazpicmVhay13b3JkOyI+Cjx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgc3R5bGU9ImJvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowOyIgY2xhc3M9ImZ3bSI+PHRib2R5Pjx0cj48dGQgc3R5bGU9IndpZHRoOjQ3MnB4OyIgY2xhc3M9ImZ3bSI+IDxpbWcgYWx0PSIiIGhlaWdodD0iYXV0byIgc3JjPSJodHRwczovL3d3dy5vcnkuc2gvbWFpbC9taXNjL2RpdmlkZXIucG5nIiBzdHlsZT0iYm9yZGVyOjA7Ym9yZGVyLXJhZGl1czoxMHB4IDEwcHggMTBweCAxMHB4O2Rpc3BsYXk6YmxvY2s7b3V0bGluZTpub25lO3RleHQtZGVjb3JhdGlvbjpub25lO2hlaWdodDphdXRvO3dpZHRoOjEwMCU7Zm9udC1zaXplOjEzcHg7IiB3aWR0aD0iNDcyIj4KPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4KPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L2Rpdj4KPCEtLVtpZiBtc28gfCBJRV0+CjwvdGQ+PC90cj48L3RhYmxlPgo8IVtlbmRpZl0tLT4KPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L2Rpdj4KPCEtLVtpZiBtc28gfCBJRV0+CjwvdGQ+PC90cj48L3RhYmxlPgo8dGFibGUgYWxpZ249ImNlbnRlciIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIGNsYXNzPSJyLW91dGxvb2sgLW91dGxvb2sgcHItMTYtb3V0bG9vayBwbC0xNi1vdXRsb29rIC1vdXRsb29rIiBzdHlsZT0id2lkdGg6NjAwcHg7IiB3aWR0aD0iNjAwIiBiZ2NvbG9yPSIjZWVlZWVlIj48dHI+PHRkIHN0eWxlPSJsaW5lLWhlaWdodDowO2ZvbnQtc2l6ZTowO21zby1saW5lLWhlaWdodC1ydWxlOmV4YWN0bHk7Ij4KPCFbZW5kaWZdLS0+PGRpdiBjbGFzcz0iciBwci0xNiBwbC0xNiAiIHN0eWxlPSJiYWNrZ3JvdW5kOiNlZWVlZWU7YmFja2dyb3VuZC1jb2xvcjojZWVlZWVlO21hcmdpbjowcHggYXV0bztib3JkZXItcmFkaXVzOjA7bWF4LXdpZHRoOjYwMHB4OyI+Cjx0YWJsZSBhbGlnbj0iY2VudGVyIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgc3R5bGU9ImJhY2tncm91bmQ6I2VlZWVlZTtiYWNrZ3JvdW5kLWNvbG9yOiNlZWVlZWU7d2lkdGg6MTAwJTtib3JkZXItcmFkaXVzOjA7Ij48dGJvZHk+PHRyPjx0ZCBzdHlsZT0iYm9yZGVyOm5vbmU7ZGlyZWN0aW9uOmx0cjtmb250LXNpemU6MDtwYWRkaW5nOjMycHggNjRweCA0OHB4IDY0cHg7dGV4dC1hbGlnbjpsZWZ0OyI+CjwhLS1baWYgbXNvIHwgSUVdPgo8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPjx0cj48dGQgY2xhc3M9ImMtb3V0bG9vayAtb3V0bG9vayAtb3V0bG9vayIgc3R5bGU9InZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDo0NzJweDsiPgo8IVtlbmRpZl0tLT48ZGl2IGNsYXNzPSJ4YzQ3MiBvZ2YgYyAiIHN0eWxlPSJmb250LXNpemU6MDt0ZXh0LWFsaWduOmxlZnQ7ZGlyZWN0aW9uOmx0cjtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6MTAwJTsiPgo8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjpub25lO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTsiIHdpZHRoPSIxMDAlIj48dGJvZHk+PHRyPjx0ZCBhbGlnbj0ibGVmdCIgY2xhc3M9InggbSIgc3R5bGU9ImZvbnQtc2l6ZTowO3BhZGRpbmc6MDtwYWRkaW5nLWJvdHRvbToxNnB4O3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPjxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5OkludGVyLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjI2cHg7bGluZS1oZWlnaHQ6NDBweDt0ZXh0LWFsaWduOmxlZnQ7Y29sb3I6IzAwMDAwMDsiPjxwIHN0eWxlPSJNYXJnaW46MDt0ZXh0LWFsaWduOmxlZnQ7Ij48c3BhbiBzdHlsZT0ibXNvLWxpbmUtaGVpZ2h0LXJ1bGU6ZXhhY3RseTtmb250LXNpemU6MjZweDtmb250LWZhbWlseTpJbnRlcixBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjojMTcxNzE3O2xpbmUtaGVpZ2h0OjQwcHg7Ij5XZSB3YW50IHRvIGhlYXIgZnJvbSB5b3U8L3NwYW4+PC9wPjwvZGl2Pgo8L3RkPjwvdHI+PHRyPjx0ZCBhbGlnbj0ibGVmdCIgY2xhc3M9InggbSIgc3R5bGU9ImZvbnQtc2l6ZTowO3BhZGRpbmc6MDtwYWRkaW5nLWJvdHRvbToxNnB4O3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPjxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5Ok94eWdlbixBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxNnB4O2xpbmUtaGVpZ2h0OjI4cHg7dGV4dC1hbGlnbjpsZWZ0O2NvbG9yOiMwMDAwMDA7Ij48cCBzdHlsZT0iTWFyZ2luOjA7dGV4dC1hbGlnbjpsZWZ0OyI+PHNwYW4gc3R5bGU9Im1zby1saW5lLWhlaWdodC1ydWxlOmV4YWN0bHk7Zm9udC1zaXplOjE2cHg7Zm9udC1mYW1pbHk6T3h5Z2VuLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiMxNzE3MTc7bGluZS1oZWlnaHQ6MjhweDsiPlBsZWFzZSBzaGFyZSB5b3VyIGZlZWRiYWNrIHdpdGggdXMgYW5kIGxldCB1cyBrbm93IGhvdyB3ZSBjYW4gaW1wcm92ZSBPcnkgTmV0d29yayB0byBtYWtlIGl0IGV2ZW4gYmV0dGVyLjwvc3Bhbj48L3A+PC9kaXY+CjwvdGQ+PC90cj48dHI+PHRkIGNsYXNzPSJzIG0iIHN0eWxlPSJmb250LXNpemU6MDtwYWRkaW5nOjA7cGFkZGluZy1ib3R0b206MTZweDt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7Ij48ZGl2IHN0eWxlPSJoZWlnaHQ6NHB4O2xpbmUtaGVpZ2h0OjRweDsiPiYjODIwMjs8L2Rpdj4KPC90ZD48L3RyPjx0cj48dGQgYWxpZ249ImxlZnQiIHZlcnRpY2FsLWFsaWduPSJtaWRkbGUiIGNsYXNzPSJiICIgc3R5bGU9ImZvbnQtc2l6ZTowO3BhZGRpbmc6MDtwYWRkaW5nLWJvdHRvbTowO3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPgo8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJib3JkZXItY29sbGFwc2U6c2VwYXJhdGU7d2lkdGg6MTU2cHg7bGluZS1oZWlnaHQ6MTAwJTsiPjx0Ym9keT48dHI+PHRkIGFsaWduPSJjZW50ZXIiIGJnY29sb3I9IiMzZDUzZjUiIHN0eWxlPSJib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjA7Y3Vyc29yOmF1dG87bXNvLXBhZGRpbmctYWx0OjEycHggMHB4IDEycHggMHB4O2JhY2tncm91bmQ6IzNkNTNmNTsiIHZhbGlnbj0ibWlkZGxlIj4gPGEgaHJlZj0iaHR0cHM6Ly9zaGFyZS1ldTEuaHNmb3Jtcy5jb20vMUhJUkt5S3RqUnpxSWxMLWpFcGVJeXdleHRnbiIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjE1NnB4O2JhY2tncm91bmQ6IzNkNTNmNTtjb2xvcjojZmZmZmZmO2ZvbnQtZmFtaWx5OkludGVyLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6bm9ybWFsO2xpbmUtaGVpZ2h0OjEwMCU7bWFyZ2luOjA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC10cmFuc2Zvcm06bm9uZTtwYWRkaW5nOjEycHggMHB4IDEycHggMHB4O21zby1wYWRkaW5nLWFsdDowO2JvcmRlci1yYWRpdXM6MDsiIHRhcmdldD0iX2JsYW5rIj4gPHNwYW4gc3R5bGU9Im1zby1saW5lLWhlaWdodC1ydWxlOmV4YWN0bHk7Zm9udC1zaXplOjE0cHg7Zm9udC1mYW1pbHk6SW50ZXIsQXJpYWwsc2Fucy1zZXJpZjtmb250LXdlaWdodDo3MDA7Y29sb3I6I2ZmZmZmZjtsaW5lLWhlaWdodDoyMHB4OyI+U2hhcmUgZmVlZGJhY2s8L3NwYW4+PC9hPgo8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPgo8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjwvZGl2Pgo8IS0tW2lmIG1zbyB8IElFXT4KPC90ZD48L3RyPjwvdGFibGU+CjwhW2VuZGlmXS0tPgo8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjwvZGl2Pgo8IS0tW2lmIG1zbyB8IElFXT4KPC90ZD48L3RyPjwvdGFibGU+Cjx0YWJsZSBhbGlnbj0iY2VudGVyIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgY2xhc3M9InItb3V0bG9vayAtb3V0bG9vayBwci0xNi1vdXRsb29rIHBsLTE2LW91dGxvb2sgLW91dGxvb2siIHN0eWxlPSJ3aWR0aDo2MDBweDsiIHdpZHRoPSI2MDAiIGJnY29sb3I9IiMxNzE3MTciPjx0cj48dGQgc3R5bGU9ImxpbmUtaGVpZ2h0OjA7Zm9udC1zaXplOjA7bXNvLWxpbmUtaGVpZ2h0LXJ1bGU6ZXhhY3RseTsiPgo8IVtlbmRpZl0tLT48ZGl2IGNsYXNzPSJyIHByLTE2IHBsLTE2ICIgc3R5bGU9ImJhY2tncm91bmQ6IzE3MTcxNztiYWNrZ3JvdW5kLWNvbG9yOiMxNzE3MTc7bWFyZ2luOjBweCBhdXRvO2JvcmRlci1yYWRpdXM6MDttYXgtd2lkdGg6NjAwcHg7Ij4KPHRhYmxlIGFsaWduPSJjZW50ZXIiIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBzdHlsZT0iYmFja2dyb3VuZDojMTcxNzE3O2JhY2tncm91bmQtY29sb3I6IzE3MTcxNzt3aWR0aDoxMDAlO2JvcmRlci1yYWRpdXM6MDsiPjx0Ym9keT48dHI+PHRkIHN0eWxlPSJib3JkZXI6bm9uZTtkaXJlY3Rpb246bHRyO2ZvbnQtc2l6ZTowO3BhZGRpbmc6MzJweCA2NHB4IDMycHggNjRweDt0ZXh0LWFsaWduOmxlZnQ7Ij4KPCEtLVtpZiBtc28gfCBJRV0+Cjx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCI+PHRyPjx0ZCBjbGFzcz0iIiBzdHlsZT0id2lkdGg6NDcycHg7Ij4KPCFbZW5kaWZdLS0+PGRpdiBjbGFzcz0icGMxMDAgb2dmIiBzdHlsZT0iZm9udC1zaXplOjA7bGluZS1oZWlnaHQ6MDt0ZXh0LWFsaWduOmxlZnQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJTtkaXJlY3Rpb246bHRyOyI+CjwhLS1baWYgbXNvIHwgSUVdPgo8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPjx0cj48dGQgc3R5bGU9InZlcnRpY2FsLWFsaWduOm1pZGRsZTt3aWR0aDo0NzJweDsiPgo8IVtlbmRpZl0tLT48ZGl2IGNsYXNzPSJwYzEwMCBvZ2YgYyAiIHN0eWxlPSJmb250LXNpemU6MDt0ZXh0LWFsaWduOmxlZnQ7ZGlyZWN0aW9uOmx0cjtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6MTAwJTsiPgo8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjpub25lO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTsiIHdpZHRoPSIxMDAlIj48dGJvZHk+PHRyPjx0ZCBhbGlnbj0ibGVmdCIgY2xhc3M9Imkgdy02MCBoLTMwIGZ3LTEgbSIgc3R5bGU9ImZvbnQtc2l6ZTowO3BhZGRpbmc6MDtwYWRkaW5nLWJvdHRvbTo4cHg7d29yZC1icmVhazpicmVhay13b3JkOyI+Cjx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgc3R5bGU9ImJvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowOyIgY2xhc3M9ImZ3bSI+PHRib2R5Pjx0cj48dGQgc3R5bGU9IndpZHRoOjgwcHg7IiBjbGFzcz0iZndtIj4gPGEgaHJlZj0iaHR0cHM6Ly93d3cub3J5LnNoLyIgdGFyZ2V0PSJfYmxhbmsiPiA8aW1nIGFsdD0iT3J5IExvZ28iIGhlaWdodD0iYXV0byIgc3JjPSJodHRwczovL3d3dy5vcnkuc2gvbWFpbC9taXNjL2xvZ28ucG5nIiBzdHlsZT0iYm9yZGVyOjA7Ym9yZGVyLXJhZGl1czowO2Rpc3BsYXk6YmxvY2s7b3V0bGluZTpub25lO3RleHQtZGVjb3JhdGlvbjpub25lO2hlaWdodDphdXRvO3dpZHRoOjEwMCU7Zm9udC1zaXplOjEzcHg7IiB3aWR0aD0iODAiPjwvYT4KPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4KPC90ZD48L3RyPjx0cj48dGQgYWxpZ249ImxlZnQiIGNsYXNzPSJ4IG0iIHN0eWxlPSJmb250LXNpemU6MDtwYWRkaW5nOjA7cGFkZGluZy1ib3R0b206OHB4O3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPjxkaXYgc3R5bGU9ImZvbnQtZmFtaWx5Ok94eWdlbixBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxMHB4O2xpbmUtaGVpZ2h0OjE2cHg7dGV4dC1hbGlnbjpsZWZ0O2NvbG9yOiMwMDAwMDA7Ij48cCBzdHlsZT0iTWFyZ2luOjA7dGV4dC1hbGlnbjpsZWZ0OyI+PHNwYW4gc3R5bGU9Im1zby1saW5lLWhlaWdodC1ydWxlOmV4YWN0bHk7Zm9udC1zaXplOjEwcHg7Zm9udC1mYW1pbHk6T3h5Z2VuLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiNmZmZmZmY7bGluZS1oZWlnaHQ6MTZweDsiPsKpIDIwMjIgT3J5IENvcnAuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuPC9zcGFuPjwvcD48cCBzdHlsZT0iTWFyZ2luOjA7Ij48c3BhbiBzdHlsZT0ibXNvLWxpbmUtaGVpZ2h0LXJ1bGU6ZXhhY3RseTtmb250LXNpemU6MTBweDtmb250LWZhbWlseTpPeHlnZW4sQXJpYWwsc2Fucy1zZXJpZjtmb250LXdlaWdodDo0MDA7Y29sb3I6I2ZmZmZmZjtsaW5lLWhlaWdodDoxNnB4OyI+T3J5LCAxMzItQSBWZXRlcmFucyBMYW5lLCBEb3lsZXN0b3duLCBQQTwvc3Bhbj48L3A+PC9kaXY+CjwvdGQ+PC90cj48dHI+PHRkIGNsYXNzPSJzIG0iIHN0eWxlPSJmb250LXNpemU6MDtwYWRkaW5nOjA7cGFkZGluZy1ib3R0b206OHB4O3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPjxkaXYgc3R5bGU9ImhlaWdodDo0cHg7bGluZS1oZWlnaHQ6NHB4OyI+JiM4MjAyOzwvZGl2Pgo8L3RkPjwvdHI+PHRyPjx0ZCBjbGFzcz0icyBtIiBzdHlsZT0iZm9udC1zaXplOjA7cGFkZGluZzowO3BhZGRpbmctYm90dG9tOjhweDt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7Ij48ZGl2IHN0eWxlPSJoZWlnaHQ6NHB4O2xpbmUtaGVpZ2h0OjRweDsiPiYjODIwMjs8L2Rpdj4KPC90ZD48L3RyPjx0cj48dGQgYWxpZ249ImxlZnQiIGNsYXNzPSJvICIgc3R5bGU9ImZvbnQtc2l6ZTowO3BhZGRpbmc6MDtwYWRkaW5nLWJvdHRvbTowO3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPgo8IS0tW2lmIG1zbyB8IElFXT4KPHRhYmxlIGFsaWduPSJsZWZ0IiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCI+PHRyPjx0ZD4KPCFbZW5kaWZdLS0+Cjx0YWJsZSBhbGlnbj0ibGVmdCIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJmbG9hdDpub25lO2Rpc3BsYXk6aW5saW5lLXRhYmxlOyI+PHRib2R5Pjx0ciBjbGFzcz0iZSBtIj48dGQgc3R5bGU9InBhZGRpbmc6MCAxNnB4IDAgMDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ij4KPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBzdHlsZT0iYm9yZGVyLXJhZGl1czowO3dpZHRoOjI0cHg7Ij48dGJvZHk+PHRyPjx0ZCBzdHlsZT0iZm9udC1zaXplOjA7aGVpZ2h0OjI0cHg7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjI0cHg7Ij4gPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL29yeSIgdGFyZ2V0PSJfYmxhbmsiPiA8aW1nIGFsdD0iR2l0SHViIiBoZWlnaHQ9IjI0IiBzcmM9Imh0dHBzOi8vd3d3Lm9yeS5zaC9tYWlsL2ljb24vZ2l0aHViLnBuZyIgc3R5bGU9ImJvcmRlci1yYWRpdXM6MDtkaXNwbGF5OmJsb2NrOyIgd2lkdGg9IjI0Ij48L2E+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjx0ZD4KPCFbZW5kaWZdLS0+Cjx0YWJsZSBhbGlnbj0ibGVmdCIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJmbG9hdDpub25lO2Rpc3BsYXk6aW5saW5lLXRhYmxlOyI+PHRib2R5Pjx0ciBjbGFzcz0iZSBtIj48dGQgc3R5bGU9InBhZGRpbmc6MCAxNnB4IDAgMDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ij4KPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBzdHlsZT0iYm9yZGVyLXJhZGl1czowO3dpZHRoOjI0cHg7Ij48dGJvZHk+PHRyPjx0ZCBzdHlsZT0iZm9udC1zaXplOjA7aGVpZ2h0OjI0cHg7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjI0cHg7Ij4gPGEgaHJlZj0iaHR0cHM6Ly9zbGFjay5vcnkuc2gvIiB0YXJnZXQ9Il9ibGFuayI+IDxpbWcgYWx0PSJTbGFjayIgaGVpZ2h0PSIyNCIgc3JjPSJodHRwczovL3d3dy5vcnkuc2gvbWFpbC9pY29uL3NsYWNrLnBuZyIgc3R5bGU9ImJvcmRlci1yYWRpdXM6MDtkaXNwbGF5OmJsb2NrOyIgd2lkdGg9IjI0Ij48L2E+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjx0ZD4KPCFbZW5kaWZdLS0+Cjx0YWJsZSBhbGlnbj0ibGVmdCIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJmbG9hdDpub25lO2Rpc3BsYXk6aW5saW5lLXRhYmxlOyI+PHRib2R5Pjx0ciBjbGFzcz0iZSBtIj48dGQgc3R5bGU9InBhZGRpbmc6MCAxNnB4IDAgMDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ij4KPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBzdHlsZT0iYm9yZGVyLXJhZGl1czowO3dpZHRoOjI0cHg7Ij48dGJvZHk+PHRyPjx0ZCBzdHlsZT0iZm9udC1zaXplOjA7aGVpZ2h0OjI0cHg7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjI0cHg7Ij4gPGEgaHJlZj0iaHR0cHM6Ly93d3cueW91dHViZS5jb20vY2hhbm5lbC9VQzloQ3haWmV2aWV4WDBHY2xEMGJycnciIHRhcmdldD0iX2JsYW5rIj4gPGltZyBhbHQ9IllvdVR1YmUiIGhlaWdodD0iMjQiIHNyYz0iaHR0cHM6Ly93d3cub3J5LnNoL21haWwvaWNvbi95b3V0dWJlLnBuZyIgc3R5bGU9ImJvcmRlci1yYWRpdXM6MDtkaXNwbGF5OmJsb2NrOyIgd2lkdGg9IjI0Ij48L2E+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjx0ZD4KPCFbZW5kaWZdLS0+Cjx0YWJsZSBhbGlnbj0ibGVmdCIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIHN0eWxlPSJmbG9hdDpub25lO2Rpc3BsYXk6aW5saW5lLXRhYmxlOyI+PHRib2R5Pjx0ciBjbGFzcz0iZSBtIj48dGQgc3R5bGU9InBhZGRpbmc6MCAxNnB4IDAgMDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ij4KPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBzdHlsZT0iYm9yZGVyLXJhZGl1czowO3dpZHRoOjI0cHg7Ij48dGJvZHk+PHRyPjx0ZCBzdHlsZT0iZm9udC1zaXplOjA7aGVpZ2h0OjI0cHg7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjI0cHg7Ij4gPGEgaHJlZj0iaHR0cHM6Ly90d2l0dGVyLmNvbS9vcnljb3JwIiB0YXJnZXQ9Il9ibGFuayI+IDxpbWcgYWx0PSJUd2l0dGVyIiBoZWlnaHQ9IjI0IiBzcmM9Imh0dHBzOi8vd3d3Lm9yeS5zaC9tYWlsL2ljb24vdHdpdHRlci5wbmciIHN0eWxlPSJib3JkZXItcmFkaXVzOjA7ZGlzcGxheTpibG9jazsiIHdpZHRoPSIyNCI+PC9hPgo8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPgo8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPgo8IS0tW2lmIG1zbyB8IElFXT4KPC90ZD48dGQ+CjwhW2VuZGlmXS0tPgo8dGFibGUgYWxpZ249ImxlZnQiIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBzdHlsZT0iZmxvYXQ6bm9uZTtkaXNwbGF5OmlubGluZS10YWJsZTsiPjx0Ym9keT48dHIgY2xhc3M9ImUgIj48dGQgc3R5bGU9InBhZGRpbmc6MDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ij4KPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBzdHlsZT0iYm9yZGVyLXJhZGl1czowO3dpZHRoOjI0cHg7Ij48dGJvZHk+PHRyPjx0ZCBzdHlsZT0iZm9udC1zaXplOjA7aGVpZ2h0OjI0cHg7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOjI0cHg7Ij4gPGEgaHJlZj0iaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2NvbXBhbnkvb3J5LWNvcnAvIiB0YXJnZXQ9Il9ibGFuayI+IDxpbWcgYWx0PSJMaW5rZWRJbiIgaGVpZ2h0PSIyNCIgc3JjPSJodHRwczovL3d3dy5vcnkuc2gvbWFpbC9pY29uL2xpbmtlZGluLnBuZyIgc3R5bGU9ImJvcmRlci1yYWRpdXM6MDtkaXNwbGF5OmJsb2NrOyIgd2lkdGg9IjI0Ij48L2E+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjwvdHI+PC90YWJsZT4KPCFbZW5kaWZdLS0+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+PC9kaXY+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjwvdHI+PC90YWJsZT4KPCFbZW5kaWZdLS0+PC9kaXY+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjwvdHI+PC90YWJsZT4KPCFbZW5kaWZdLS0+CjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+PC9kaXY+CjwhLS1baWYgbXNvIHwgSUVdPgo8L3RkPjwvdHI+PC90YWJsZT4KPCFbZW5kaWZdLS0+PC9kaXY+CjwvYm9keT4KPC9odG1sPg==",
			expectedBody: "<!doctype html>\n<html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">\n<head>\n<title> Recover access to your Ory account </title>\n<!--[if !mso]><!-->\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n<!--<![endif]-->\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<style type=\"text/css\">\n#outlook a{padding:0;}body{margin:0;padding:0;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;}table,td{border-collapse:collapse;mso-table-lspace:0pt;mso-table-rspace:0pt;}img{border:0;height:auto;line-height:100%;outline:none;text-decoration:none;-ms-interpolation-mode:bicubic;}p{display:block;margin:0;}\n</style>\n<!--[if mso]> <noscript><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml></noscript>\n<![endif]-->\n<!--[if lte mso 11]>\n<style type=\"text/css\">\n.ogf{width:100% !important;}\n</style>\n<![endif]-->\n<!--[if !mso]><!-->\n<link href=\"https://fonts.googleapis.com/css?family=Inter:400,700\" rel=\"stylesheet\" type=\"text/css\">\n<link href=\"https://fonts.googleapis.com/css?family=Oxygen:700,400\" rel=\"stylesheet\" type=\"text/css\">\n<style type=\"text/css\">\n\n</style>\n<!--<![endif]-->\n<style type=\"text/css\">\n@media only screen and (min-width:599px){.pc100{width:100%!important;max-width:100%;}.xc600{width:600px!important;max-width:600px;}.xc472{width:472px!important;max-width:472px;}}\n</style>\n<style media=\"screen and (min-width:599px)\">.moz-text-html .pc100{width:100%!important;max-width:100%;}.moz-text-html .xc600{width:600px!important;max-width:600px;}.moz-text-html .xc472{width:472px!important;max-width:472px;}\n</style>\n<style type=\"text/css\">\n@media only screen and (max-width:599px){table.fwm{width:100%!important;}td.fwm{width:auto!important;}}\n</style>\n<style type=\"text/css\">\nu+.emailify a,#MessageViewBody a,a[x-apple-data-detectors]{color:inherit!important;text-decoration:none!important;font-size:inherit!important;font-family:inherit!important;font-weight:inherit!important;line-height:inherit!important;}span.MsoHyperlink{mso-style-priority:99;color:inherit;}span.MsoHyperlinkFollowed{mso-style-priority:99;color:inherit;}u+.emailify .glist{margin-left:0!important;}\n@media only screen and (max-width:599px){.emailify{height:100%!important;margin:0!important;padding:0!important;width:100%!important;}u+.emailify .glist{margin-left:25px!important;}td.x{padding-left:0!important;padding-right:0!important;}br.sb{display:none!important;}.hd-1{display:block!important;height:auto!important;overflow:visible!important;}.ht-1{display:table!important;height:auto!important;overflow:visible!important;}.hr-1{display:table-row!important;height:auto!important;overflow:visible!important;}.hc-1{display:table-cell!important;height:auto!important;overflow:visible!important;}div.r.pr-16>table>tbody>tr>td{padding-right:16px!important}div.r.pl-16>table>tbody>tr>td{padding-left:16px!important}td.i.w-60 img{width:60px!important}td.i.h-30 img{height:30px!important}div.r.pt-0>table>tbody>tr>td{padding-top:0px!important}div.r.pr-0>table>tbody>tr>td{padding-right:0px!important}div.r.pb-0>table>tbody>tr>td{padding-bottom:0px!important}div.r.pl-0>table>tbody>tr>td{padding-left:0px!important}}\n</style>\n<meta name=\"color-scheme\" content=\"light dark\">\n<meta name=\"supported-color-schemes\" content=\"light dark\">\n<!--[if gte mso 9]>\n<style>li{text-indent:-1em;}\n</style>\n<![endif]-->\n</head>\n<body link=\"#DD0000\" vlink=\"#DD0000\" class=\"emailify\" style=\"word-spacing:normal;background-color:#f2f2f2;\"><div style=\"background-color:#f2f2f2;\">\n<!--[if mso | IE]>\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"r-outlook -outlook pr-16-outlook pl-16-outlook -outlook\" style=\"width:600px;\" width=\"600\" bgcolor=\"#fffffe\"><tr><td style=\"line-height:0;font-size:0;mso-line-height-rule:exactly;\">\n<![endif]--><div class=\"r pr-16 pl-16 \" style=\"background:#fffffe;background-color:#fffffe;margin:0px auto;border-radius:0;max-width:600px;\">\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background:#fffffe;background-color:#fffffe;width:100%;border-radius:0;\"><tbody><tr><td style=\"border:none;direction:ltr;font-size:0;padding:16px 64px 16px 64px;text-align:left;\">\n<!--[if mso | IE]>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td class=\"\" style=\"width:472px;\">\n<![endif]--><div class=\"pc100 ogf\" style=\"font-size:0;line-height:0;text-align:left;display:inline-block;width:100%;direction:ltr;\">\n<!--[if mso | IE]>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td style=\"vertical-align:middle;width:472px;\">\n<![endif]--><div class=\"pc100 ogf c \" style=\"font-size:0;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:transparent;border:none;vertical-align:middle;\" width=\"100%\"><tbody><tr><td align=\"left\" class=\"i w-60 h-30 fw-1 \" style=\"font-size:0;padding:0;padding-bottom:0;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0;\" class=\"fwm\"><tbody><tr><td style=\"width:80px;\" class=\"fwm\"> <a href=\"https://www.ory.sh/\" target=\"_blank\"> <img alt=\"Ory Logo\" height=\"auto\" src=\"https://www.ory.sh/mail/misc/logo.png\" style=\"border:0;border-radius:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:13px;\" width=\"80\"></a>\n</td></tr></tbody></table>\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<![endif]--></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<![endif]-->\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"r-outlook -outlook pt-0-outlook pr-0-outlook pb-0-outlook pl-0-outlook -outlook\" style=\"width:600px;\" width=\"600\" bgcolor=\"transparent\"><tr><td style=\"line-height:0;font-size:0;mso-line-height-rule:exactly;\">\n<![endif]--><div class=\"r pt-0 pr-0 pb-0 pl-0 \" style=\"background:transparent;background-color:transparent;margin:0px auto;border-radius:0;max-width:600px;\">\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background:transparent;background-color:transparent;width:100%;border-radius:0;\"><tbody><tr><td style=\"border:none;direction:ltr;font-size:0;padding:0;text-align:left;\">\n<!--[if mso | IE]>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td class=\"c-outlook -outlook -outlook\" style=\"vertical-align:middle;width:600px;\">\n<![endif]--><div class=\"xc600 ogf c \" style=\"font-size:0;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:transparent;border:none;vertical-align:middle;\" width=\"100%\"><tbody><tr><td align=\"center\" class=\"i fw-1 \" style=\"font-size:0;padding:0;padding-bottom:0;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0;\" class=\"fwm\"><tbody><tr><td style=\"width:600px;\" class=\"fwm\"> <a href=\"{{ .RecoveryURL }}\" target=\"_blank\"> <img alt=\"Ory Network account recovery\" height=\"auto\" src=\"https://www.ory.sh/mail/banner/banner-1.jpg\" style=\"border:0;border-radius:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:13px;\" width=\"600\"></a>\n</td></tr></tbody></table>\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<![endif]-->\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"r-outlook -outlook pr-16-outlook pl-16-outlook -outlook\" style=\"width:600px;\" width=\"600\" bgcolor=\"#fcfcfc\"><tr><td style=\"line-height:0;font-size:0;mso-line-height-rule:exactly;\">\n<![endif]--><div class=\"r pr-16 pl-16 \" style=\"background:#fcfcfc;background-color:#fcfcfc;margin:0px auto;border-radius:0;max-width:600px;\">\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background:#fcfcfc;background-color:#fcfcfc;width:100%;border-radius:0;\"><tbody><tr><td style=\"border:none;direction:ltr;font-size:0;padding:48px 64px 48px 64px;text-align:left;\">\n<!--[if mso | IE]>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td class=\"c-outlook -outlook -outlook\" style=\"vertical-align:middle;width:472px;\">\n<![endif]--><div class=\"xc472 ogf c \" style=\"font-size:0;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:transparent;border:none;vertical-align:middle;\" width=\"100%\"><tbody><tr><td align=\"left\" class=\"x m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"font-family:Inter,Arial,sans-serif;font-size:37px;line-height:52px;text-align:left;color:#000000;\"><p style=\"Margin:0;text-align:left;\"><span style=\"mso-line-height-rule:exactly;font-size:37px;font-family:Inter,Arial,sans-serif;font-weight:400;color:#171717;line-height:52px;\">Recover access to your Ory account</span></p></div>\n</td></tr><tr><td align=\"left\" class=\"x m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"font-family:Oxygen,Arial,sans-serif;font-size:16px;line-height:28px;text-align:left;color:#000000;\"><p style=\"Margin:0;text-align:left;\"><span style=\"mso-line-height-rule:exactly;font-size:16px;font-family:Oxygen,Arial,sans-serif;font-weight:700;color:#171717;line-height:28px;\">Hello </span><span style=\"mso-line-height-rule:exactly;font-size:16px;font-family:Oxygen,Arial,sans-serif;font-weight:700;color:#3d53f5;line-height:28px;\">{{ .To }},</span></p></div>\n</td></tr><tr><td align=\"left\" class=\"x m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"font-family:Oxygen,Arial,sans-serif;font-size:16px;line-height:28px;text-align:left;color:#000000;\"><p style=\"Margin:0;text-align:left;\"><span style=\"mso-line-height-rule:exactly;font-size:16px;font-family:Oxygen,Arial,sans-serif;font-weight:400;color:#171717;line-height:28px;\">please recover access to your account by clicking the following link: </span></p></div>\n</td></tr><tr><td align=\"left\" class=\"x m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"font-family:Oxygen,Arial,sans-serif;font-size:16px;line-height:28px;text-align:left;color:#000000;\"><p style=\"Margin:0;text-align:left;\"><span style=\"mso-line-height-rule:exactly;font-size:16px;font-family:Oxygen,Arial,sans-serif;font-weight:700;color:#3d53f5;line-height:28px;\"><a href=\"{{ .RecoveryURL }}\" style=\"color:#3d53f5;text-decoration:initial;\" target=\"_blank\">{{ .RecoveryURL }}</a></span></p></div>\n</td></tr><tr><td align=\"left\" class=\"x m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"font-family:Oxygen,Arial,sans-serif;font-size:16px;line-height:28px;text-align:left;color:#000000;\"><p style=\"Margin:0;text-align:left;\"><span style=\"mso-line-height-rule:exactly;font-size:16px;font-family:Oxygen,Arial,sans-serif;font-weight:400;color:#171717;line-height:28px;\">Kind Regards, the Ory Team</span></p></div>\n</td></tr><tr><td class=\"s m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"height:4px;line-height:4px;\">&#8202;</div>\n</td></tr><tr><td align=\"left\" vertical-align=\"middle\" class=\"b m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:separate;width:166px;line-height:100%;\"><tbody><tr><td align=\"center\" bgcolor=\"#3d53f5\" style=\"border:none;border-radius:0;cursor:auto;mso-padding-alt:12px 0px 12px 0px;background:#3d53f5;\" valign=\"middle\"> <a href=\"{{ .RecoveryURL }}\" style=\"display:inline-block;width:166px;background:#3d53f5;color:#ffffff;font-family:Inter,Arial,sans-serif;font-size:13px;font-weight:normal;line-height:100%;margin:0;text-decoration:none;text-transform:none;padding:12px 0px 12px 0px;mso-padding-alt:0;border-radius:0;\" target=\"_blank\"> <span style=\"mso-line-height-rule:exactly;font-size:14px;font-family:Inter,Arial,sans-serif;font-weight:700;color:#ffffff;line-height:20px;\">Recover Account</span></a>\n</td></tr></tbody></table>\n</td></tr><tr><td class=\"s m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"height:4px;line-height:4px;\">&#8202;</div>\n</td></tr><tr><td align=\"left\" class=\"i fw-1 \" style=\"font-size:0;padding:0;padding-bottom:0;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0;\" class=\"fwm\"><tbody><tr><td style=\"width:472px;\" class=\"fwm\"> <img alt=\"\" height=\"auto\" src=\"https://www.ory.sh/mail/misc/divider.png\" style=\"border:0;border-radius:10px 10px 10px 10px;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:13px;\" width=\"472\">\n</td></tr></tbody></table>\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<![endif]-->\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"r-outlook -outlook pr-16-outlook pl-16-outlook -outlook\" style=\"width:600px;\" width=\"600\" bgcolor=\"#eeeeee\"><tr><td style=\"line-height:0;font-size:0;mso-line-height-rule:exactly;\">\n<![endif]--><div class=\"r pr-16 pl-16 \" style=\"background:#eeeeee;background-color:#eeeeee;margin:0px auto;border-radius:0;max-width:600px;\">\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background:#eeeeee;background-color:#eeeeee;width:100%;border-radius:0;\"><tbody><tr><td style=\"border:none;direction:ltr;font-size:0;padding:32px 64px 48px 64px;text-align:left;\">\n<!--[if mso | IE]>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td class=\"c-outlook -outlook -outlook\" style=\"vertical-align:middle;width:472px;\">\n<![endif]--><div class=\"xc472 ogf c \" style=\"font-size:0;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:transparent;border:none;vertical-align:middle;\" width=\"100%\"><tbody><tr><td align=\"left\" class=\"x m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"font-family:Inter,Arial,sans-serif;font-size:26px;line-height:40px;text-align:left;color:#000000;\"><p style=\"Margin:0;text-align:left;\"><span style=\"mso-line-height-rule:exactly;font-size:26px;font-family:Inter,Arial,sans-serif;font-weight:400;color:#171717;line-height:40px;\">We want to hear from you</span></p></div>\n</td></tr><tr><td align=\"left\" class=\"x m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"font-family:Oxygen,Arial,sans-serif;font-size:16px;line-height:28px;text-align:left;color:#000000;\"><p style=\"Margin:0;text-align:left;\"><span style=\"mso-line-height-rule:exactly;font-size:16px;font-family:Oxygen,Arial,sans-serif;font-weight:400;color:#171717;line-height:28px;\">Please share your feedback with us and let us know how we can improve Ory Network to make it even better.</span></p></div>\n</td></tr><tr><td class=\"s m\" style=\"font-size:0;padding:0;padding-bottom:16px;word-break:break-word;\"><div style=\"height:4px;line-height:4px;\">&#8202;</div>\n</td></tr><tr><td align=\"left\" vertical-align=\"middle\" class=\"b \" style=\"font-size:0;padding:0;padding-bottom:0;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:separate;width:156px;line-height:100%;\"><tbody><tr><td align=\"center\" bgcolor=\"#3d53f5\" style=\"border:none;border-radius:0;cursor:auto;mso-padding-alt:12px 0px 12px 0px;background:#3d53f5;\" valign=\"middle\"> <a href=\"https://share-eu1.hsforms.com/1HIRKyKtjRzqIlL-jEpeIywextgn\" style=\"display:inline-block;width:156px;background:#3d53f5;color:#ffffff;font-family:Inter,Arial,sans-serif;font-size:13px;font-weight:normal;line-height:100%;margin:0;text-decoration:none;text-transform:none;padding:12px 0px 12px 0px;mso-padding-alt:0;border-radius:0;\" target=\"_blank\"> <span style=\"mso-line-height-rule:exactly;font-size:14px;font-family:Inter,Arial,sans-serif;font-weight:700;color:#ffffff;line-height:20px;\">Share feedback</span></a>\n</td></tr></tbody></table>\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<![endif]-->\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"r-outlook -outlook pr-16-outlook pl-16-outlook -outlook\" style=\"width:600px;\" width=\"600\" bgcolor=\"#171717\"><tr><td style=\"line-height:0;font-size:0;mso-line-height-rule:exactly;\">\n<![endif]--><div class=\"r pr-16 pl-16 \" style=\"background:#171717;background-color:#171717;margin:0px auto;border-radius:0;max-width:600px;\">\n<table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background:#171717;background-color:#171717;width:100%;border-radius:0;\"><tbody><tr><td style=\"border:none;direction:ltr;font-size:0;padding:32px 64px 32px 64px;text-align:left;\">\n<!--[if mso | IE]>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td class=\"\" style=\"width:472px;\">\n<![endif]--><div class=\"pc100 ogf\" style=\"font-size:0;line-height:0;text-align:left;display:inline-block;width:100%;direction:ltr;\">\n<!--[if mso | IE]>\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td style=\"vertical-align:middle;width:472px;\">\n<![endif]--><div class=\"pc100 ogf c \" style=\"font-size:0;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"background-color:transparent;border:none;vertical-align:middle;\" width=\"100%\"><tbody><tr><td align=\"left\" class=\"i w-60 h-30 fw-1 m\" style=\"font-size:0;padding:0;padding-bottom:8px;word-break:break-word;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-collapse:collapse;border-spacing:0;\" class=\"fwm\"><tbody><tr><td style=\"width:80px;\" class=\"fwm\"> <a href=\"https://www.ory.sh/\" target=\"_blank\"> <img alt=\"Ory Logo\" height=\"auto\" src=\"https://www.ory.sh/mail/misc/logo.png\" style=\"border:0;border-radius:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:13px;\" width=\"80\"></a>\n</td></tr></tbody></table>\n</td></tr><tr><td align=\"left\" class=\"x m\" style=\"font-size:0;padding:0;padding-bottom:8px;word-break:break-word;\"><div style=\"font-family:Oxygen,Arial,sans-serif;font-size:10px;line-height:16px;text-align:left;color:#000000;\"><p style=\"Margin:0;text-align:left;\"><span style=\"mso-line-height-rule:exactly;font-size:10px;font-family:Oxygen,Arial,sans-serif;font-weight:400;color:#ffffff;line-height:16px;\">Â© 2022 Ory Corp. All Rights Reserved.</span></p><p style=\"Margin:0;\"><span style=\"mso-line-height-rule:exactly;font-size:10px;font-family:Oxygen,Arial,sans-serif;font-weight:400;color:#ffffff;line-height:16px;\">Ory, 132-A Veterans Lane, Doylestown, PA</span></p></div>\n</td></tr><tr><td class=\"s m\" style=\"font-size:0;padding:0;padding-bottom:8px;word-break:break-word;\"><div style=\"height:4px;line-height:4px;\">&#8202;</div>\n</td></tr><tr><td class=\"s m\" style=\"font-size:0;padding:0;padding-bottom:8px;word-break:break-word;\"><div style=\"height:4px;line-height:4px;\">&#8202;</div>\n</td></tr><tr><td align=\"left\" class=\"o \" style=\"font-size:0;padding:0;padding-bottom:0;word-break:break-word;\">\n<!--[if mso | IE]>\n<table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td>\n<![endif]-->\n<table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"float:none;display:inline-table;\"><tbody><tr class=\"e m\"><td style=\"padding:0 16px 0 0;vertical-align:middle;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-radius:0;width:24px;\"><tbody><tr><td style=\"font-size:0;height:24px;vertical-align:middle;width:24px;\"> <a href=\"https://github.com/ory\" target=\"_blank\"> <img alt=\"GitHub\" height=\"24\" src=\"https://www.ory.sh/mail/icon/github.png\" style=\"border-radius:0;display:block;\" width=\"24\"></a>\n</td></tr></tbody></table>\n</td></tr></tbody></table>\n<!--[if mso | IE]>\n</td><td>\n<![endif]-->\n<table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"float:none;display:inline-table;\"><tbody><tr class=\"e m\"><td style=\"padding:0 16px 0 0;vertical-align:middle;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-radius:0;width:24px;\"><tbody><tr><td style=\"font-size:0;height:24px;vertical-align:middle;width:24px;\"> <a href=\"https://slack.ory.sh/\" target=\"_blank\"> <img alt=\"Slack\" height=\"24\" src=\"https://www.ory.sh/mail/icon/slack.png\" style=\"border-radius:0;display:block;\" width=\"24\"></a>\n</td></tr></tbody></table>\n</td></tr></tbody></table>\n<!--[if mso | IE]>\n</td><td>\n<![endif]-->\n<table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"float:none;display:inline-table;\"><tbody><tr class=\"e m\"><td style=\"padding:0 16px 0 0;vertical-align:middle;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-radius:0;width:24px;\"><tbody><tr><td style=\"font-size:0;height:24px;vertical-align:middle;width:24px;\"> <a href=\"https://www.youtube.com/channel/UC9hCxZZeviexX0GclD0brrw\" target=\"_blank\"> <img alt=\"YouTube\" height=\"24\" src=\"https://www.ory.sh/mail/icon/youtube.png\" style=\"border-radius:0;display:block;\" width=\"24\"></a>\n</td></tr></tbody></table>\n</td></tr></tbody></table>\n<!--[if mso | IE]>\n</td><td>\n<![endif]-->\n<table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"float:none;display:inline-table;\"><tbody><tr class=\"e m\"><td style=\"padding:0 16px 0 0;vertical-align:middle;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-radius:0;width:24px;\"><tbody><tr><td style=\"font-size:0;height:24px;vertical-align:middle;width:24px;\"> <a href=\"https://twitter.com/orycorp\" target=\"_blank\"> <img alt=\"Twitter\" height=\"24\" src=\"https://www.ory.sh/mail/icon/twitter.png\" style=\"border-radius:0;display:block;\" width=\"24\"></a>\n</td></tr></tbody></table>\n</td></tr></tbody></table>\n<!--[if mso | IE]>\n</td><td>\n<![endif]-->\n<table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"float:none;display:inline-table;\"><tbody><tr class=\"e \"><td style=\"padding:0;vertical-align:middle;\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-radius:0;width:24px;\"><tbody><tr><td style=\"font-size:0;height:24px;vertical-align:middle;width:24px;\"> <a href=\"https://www.linkedin.com/company/ory-corp/\" target=\"_blank\"> <img alt=\"LinkedIn\" height=\"24\" src=\"https://www.ory.sh/mail/icon/linkedin.png\" style=\"border-radius:0;display:block;\" width=\"24\"></a>\n</td></tr></tbody></table>\n</td></tr></tbody></table>\n<!--[if mso | IE]>\n</td></tr></table>\n<![endif]-->\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<![endif]--></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<![endif]-->\n</td></tr></tbody></table></div>\n<!--[if mso | IE]>\n</td></tr></table>\n<![endif]--></div>\n</body>\n</html>"},
	} {
		t.Run(fmt.Sprintf("case=%d", k), func(t *testing.T) {
			body, err := ReadFileFromAllSources(tc.src, tc.opts...)
			if tc.expectedErr != "" {
				require.Error(t, err)
				assert.Equal(t, tc.expectedErr, err.Error())
				return
			} else if tc.expectedErrContains != "" {
				require.Error(t, err)
				assert.Contains(t, err.Error(), tc.expectedErrContains)
				return
			}
			require.NoError(t, err)
			assert.Equal(t, tc.expectedBody, string(body))
		})
	}
}

func TestRestrictedReadFile(t *testing.T) {
	ts := httptest.NewServer(handler)
	defer ts.Close()

	sslTS := httptest.NewTLSServer(handler)
	defer sslTS.Close()

	for k, tc := range []struct {
		opts         []Option
		src          string
		expectedErr  string
		expectedBody string
	}{
		{src: "base64://aGVsbG8gd29ybGQ", expectedErr: "base64 loader disabled"},
		{src: "base64://aGVsbG8gd29ybGQ", expectedBody: "hello world", opts: []Option{WithEnabledBase64Loader()}},

		{src: "file://stub/text.txt", expectedErr: "file loader disabled"},
		{src: "file://stub/text.txt", expectedBody: "hello world", opts: []Option{WithEnabledFileLoader()}},

		{src: sslTS.URL, expectedErr: "http(s) loader disabled"},
		{src: ts.URL, expectedBody: "hello world", opts: []Option{WithEnabledHTTPLoader()}},
	} {
		t.Run(fmt.Sprintf("case=%d", k), func(t *testing.T) {
			body, err := RestrictedReadFile(tc.src, tc.opts...)
			if tc.expectedErr != "" {
				require.Error(t, err)
				assert.Equal(t, tc.expectedErr, err.Error())
				return
			}
			require.NoError(t, err)
			assert.Equal(t, tc.expectedBody, string(body))
		})
	}
}
